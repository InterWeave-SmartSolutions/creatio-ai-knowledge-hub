<!doctype html><html lang=en dir=ltr class="docs-wrapper plugin-docs plugin-id-default docs-version-8.1 docs-doc-page docs-doc-id-undefined" data-has-hydrated=false><meta charset=UTF-8><meta name=generator content="Docusaurus v3.7.0"><title data-rh=true>Backward compatible SQL scripts | Creatio Academy</title><meta data-rh=true name=viewport content="width=device-width, initial-scale=1.0"><meta data-rh=true name=twitter:card content=summary_large_image><meta data-rh=true property=og:image content=https://academy.creatio.com/docs/8.x/dev/img/OG-Creatio-Docs.jpg><meta data-rh=true name=twitter:image content=https://academy.creatio.com/docs/8.x/dev/img/OG-Creatio-Docs.jpg><meta data-rh=true property=og:url content=https://academy.creatio.com/docs/8.x/dev/development-on-creatio-platform/8.1/development-tools/database-tools/backward-compatible-sql-scripts><meta data-rh=true property=og:locale content=en><meta data-rh=true name=docusaurus_locale content=en><meta data-rh=true name=docsearch:language content=en><meta data-rh=true name=docusaurus_version content=8.1><meta data-rh=true name=docusaurus_tag content=docs-default-8.1><meta data-rh=true name=docsearch:version content=8.1><meta data-rh=true name=docsearch:docusaurus_tag content=docs-default-8.1><meta data-rh=true property=og:title content="Backward compatible SQL scripts | Creatio Academy"><meta data-rh=true name=description content="If the package installation ends with an error, you cannot roll the configuration back completely since SQL scripts make irreversible changes to the database as part of the package installation. To prevent that, use backward compatible SQL scripts instead."><meta data-rh=true property=og:description content="If the package installation ends with an error, you cannot roll the configuration back completely since SQL scripts make irreversible changes to the database as part of the package installation. To prevent that, use backward compatible SQL scripts instead."><link data-rh=true rel=icon href=/docs/8.x/dev/img/favicon.ico><link data-rh=true rel=canonical href=https://academy.creatio.com/docs/8.x/dev/development-on-creatio-platform/8.1/development-tools/database-tools/backward-compatible-sql-scripts><link data-rh=true rel=alternate href=https://academy.creatio.com/docs/8.x/dev/development-on-creatio-platform/8.1/development-tools/database-tools/backward-compatible-sql-scripts hreflang=en><link data-rh=true rel=alternate href=https://academy.creatio.com/docs/8.x/dev/development-on-creatio-platform/8.1/development-tools/database-tools/backward-compatible-sql-scripts hreflang=x-default><link rel=preconnect href=https://www.googletagmanager.com><script>window.dataLayer=window.dataLayer||[],function(e,t,a,n,r){e[n]=e[n]||[],e[n].push({"gtm.start":new Date().getTime(),event:"gtm.js"});var d=t.getElementsByTagName(a)[0],g=t.createElement(a);g.async=!0,g.src="https://www.googletagmanager.com/gtm.js?id="+r+("dataLayer"!=n?"&l="+n:""),d.parentNode.insertBefore(g,d)}(window,document,"script","dataLayer","GTM-5C6KM9TP")</script><link rel=stylesheet href=/docs/8.x/dev/assets/css/styles.89ecc891.css><script src=/docs/8.x/dev/assets/js/runtime~main.1fca6f6f.js defer></script><script src=/docs/8.x/dev/assets/js/main.020f5612.js defer></script><body class=navigation-with-keyboard><noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-5C6KM9TP" height=0 width=0 style=display:none;visibility:hidden></iframe></noscript>


<script>!function(){var t,e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();t=null!==e?e:"light",document.documentElement.setAttribute("data-theme",t)}(),function(){try{for(var[t,e]of new URLSearchParams(window.location.search).entries())if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id=__docusaurus><link rel=preload as=image href=/docs/8.x/dev/img/logo-white.svg><link rel=preload as=image href=/docs/8.x/dev/img/logo.svg><link rel=preload as=image href=https://academy.creatio.com/sites/default/files/documentation/sdk/ru/BPMonlineWebSDK/Screenshots/BackwardCompatibleSqlScript/8.0/scr_Backward_compatible.png><link rel=preload as=image href=/docs/8.x/dev/img/accelerate.svg><div role=region aria-label="Skip to main content"><a class=skipToContent_fXgn href=#__docusaurus_skipToContent_fallback>Skip to main content</a></div><div class=navtop><div class=container-fluid><div class=navtop__content><div class=search><form method=get><input class=search__input type=text placeholder=Search name=search><input class=search__button type=submit value=Search></form><div class=search__toggle></div></div><ul class=sites><li class=sites__item><a href=https://www.creatio.com/ rel=nofollow target=_blank>Creatio</a><li class=sites__item><a href=https://community.creatio.com/ rel=nofollow target=_blank>Community</a><li class=sites__item><a href=https://marketplace.creatio.com/ rel=nofollow target=_blank>Marketplace</a><li class=sites__item><a href=https://knowledge-hub.creatio.com/ rel=nofollow target=_blank>Knowledge Hub</a></ul></div></div></div><nav aria-label=Main class="navbar navbar--fixed-top"><div class="navbar__inner container-fluid"><div class=navbar__items><div class=navbar__toggle><span></span></div><a class="navbar__brand navbar__brand_mobile" href=/><img src=/docs/8.x/dev/img/logo-white.svg alt="Creatio Academy"></a><a class=navbar__brand href=/><img src=/docs/8.x/dev/img/logo.svg alt="Creatio Academy"></a><a aria-current=page class="navbar__item navbar__link navbar__link--active" href=/docs/8.x/dev/>Guides</a><a href=https://academy.creatio.com/e-learning target=_blank rel="noopener noreferrer" class="navbar__item navbar__link">E-learning</a><a href=https://academy.creatio.com/training target=_blank rel="noopener noreferrer" class="navbar__item navbar__link">Training</a><a href=https://academy.creatio.com/certification target=_blank rel="noopener noreferrer" class="navbar__item navbar__link">Certification</a><div class="navbar__item dropdown dropdown--hoverable"><a aria-current=page class="navbar__link active" aria-haspopup=true aria-expanded=false role=button href=/docs/8.x/dev/development-on-creatio-platform/8.1/development-tools/database-tools/backward-compatible-sql-scripts>8.1</a><ul class=dropdown__menu><li><a class=dropdown__link href=/docs/8.x/dev/development-on-creatio-platform/development-tools/database-tools/backward-compatible-sql-scripts>8.3</a><li><a class=dropdown__link href=/docs/8.x/dev/development-on-creatio-platform/8.2/development-tools/database-tools/backward-compatible-sql-scripts>8.2</a><li><a aria-current=page class="dropdown__link dropdown__link--active" href=/docs/8.x/dev/development-on-creatio-platform/8.1/development-tools/database-tools/backward-compatible-sql-scripts>8.1</a><li><a class=dropdown__link href=/docs/8.x/dev/development-on-creatio-platform/8.0/development-tools/database-tools/backward-compatible-sql-scripts>8.0</a></ul></div></div><div class="navbar__items navbar__items--right"><div class=search><form method=get><input class=search__input type=text placeholder=Search name=search><input class=search__button type=submit value=Search></form><div class=search__toggle></div></div></div></div><div role=presentation class=navbar-sidebar__backdrop></div></nav><div id=__docusaurus_skipToContent_fallback class="main-wrapper mainWrapper_z2l0"><div class=docsWrapper_bSxm><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type=button></button><div class=container-fluid><div class=docRoot_cWv0><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class=sidebarViewport_aRkj><div class="doc-menu sidebar_mhZE"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="menu__link menu__link--sublist" href=/docs/8.x/dev/development-on-creatio-platform/8.1/category/getting-started>Getting started</a><button aria-label="Expand sidebar category 'Getting started'" aria-expanded=false type=button class="clean-btn menu__caret"></button></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="menu__link menu__link--sublist" href=/docs/8.x/dev/development-on-creatio-platform/8.1/category/architecture>Architecture</a><button aria-label="Expand sidebar category 'Architecture'" aria-expanded=false type=button class="clean-btn menu__caret"></button></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class=menu__list-item-collapsible><a class="menu__link menu__link--sublist menu__link--active" href=/docs/8.x/dev/development-on-creatio-platform/8.1/category/development-tools>Development tools</a><button aria-label="Collapse sidebar category 'Development tools'" aria-expanded=true type=button class="clean-btn menu__caret"></button></div><ul style=display:block;overflow:visible;height:auto class=menu__list><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="menu__link menu__link--sublist" tabindex=0 href=/docs/8.x/dev/development-on-creatio-platform/8.1/category/creatio-ide>Creatio IDE</a><button aria-label="Expand sidebar category 'Creatio IDE'" aria-expanded=false type=button class="clean-btn menu__caret"></button></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="menu__link menu__link--sublist" tabindex=0 href=/docs/8.x/dev/development-on-creatio-platform/8.1/category/external-ides>External IDEs</a><button aria-label="Expand sidebar category 'External IDEs'" aria-expanded=false type=button class="clean-btn menu__caret"></button></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="menu__link menu__link--sublist" tabindex=0 href=/docs/8.x/dev/development-on-creatio-platform/8.1/category/packages>Packages</a><button aria-label="Expand sidebar category 'Packages'" aria-expanded=false type=button class="clean-btn menu__caret"></button></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="menu__link menu__link--sublist" tabindex=0 href=/docs/8.x/dev/development-on-creatio-platform/8.1/category/version-control-tools>Version control tools</a><button aria-label="Expand sidebar category 'Version control tools'" aria-expanded=false type=button class="clean-btn menu__caret"></button></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="menu__link menu__link--sublist" tabindex=0 href=/docs/8.x/dev/development-on-creatio-platform/8.1/category/testing-tools>Testing tools</a><button aria-label="Expand sidebar category 'Testing tools'" aria-expanded=false type=button class="clean-btn menu__caret"></button></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class=menu__list-item-collapsible><a class="menu__link menu__link--sublist menu__link--active" tabindex=0 href=/docs/8.x/dev/development-on-creatio-platform/8.1/category/database-tools>Database tools</a><button aria-label="Collapse sidebar category 'Database tools'" aria-expanded=true type=button class="clean-btn menu__caret"></button></div><ul style=display:block;overflow:visible;height:auto class=menu__list><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="menu__link menu__link--sublist" tabindex=0 href=/docs/8.x/dev/development-on-creatio-platform/8.1/category/postgresql-features>PostgreSQL features</a><button aria-label="Expand sidebar category 'PostgreSQL features'" aria-expanded=false type=button class="clean-btn menu__caret"></button></div><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link menu__link--active" aria-current=page tabindex=0 href=/docs/8.x/dev/development-on-creatio-platform/8.1/development-tools/database-tools/backward-compatible-sql-scripts>Backward compatible scripts</a></ul><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="menu__link menu__link--sublist" tabindex=0 href=/docs/8.x/dev/development-on-creatio-platform/8.1/category/logging-tools>Logging tools</a><button aria-label="Expand sidebar category 'Logging tools'" aria-expanded=false type=button class="clean-btn menu__caret"></button></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="menu__link menu__link--sublist" tabindex=0 href=/docs/8.x/dev/development-on-creatio-platform/8.1/category/debugging-tools>Debugging tools</a><button aria-label="Expand sidebar category 'Debugging tools'" aria-expanded=false type=button class="clean-btn menu__caret"></button></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="menu__link menu__link--sublist" tabindex=0 href=/docs/8.x/dev/development-on-creatio-platform/8.1/category/delivery-tools>Delivery tools</a><button aria-label="Expand sidebar category 'Delivery tools'" aria-expanded=false type=button class="clean-btn menu__caret"></button></div></ul><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="menu__link menu__link--sublist" href=/docs/8.x/dev/development-on-creatio-platform/8.1/category/back-end-development>Back-end development</a><button aria-label="Expand sidebar category 'Back-end development'" aria-expanded=false type=button class="clean-btn menu__caret"></button></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="menu__link menu__link--sublist" href=/docs/8.x/dev/development-on-creatio-platform/8.1/category/front-end-development>Front-end development</a><button aria-label="Expand sidebar category 'Front-end development'" aria-expanded=false type=button class="clean-btn menu__caret"></button></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="menu__link menu__link--sublist" href=/docs/8.x/dev/development-on-creatio-platform/8.1/category/platform-customization>Platform customization</a><button aria-label="Expand sidebar category 'Platform customization'" aria-expanded=false type=button class="clean-btn menu__caret"></button></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="menu__link menu__link--sublist" href=/docs/8.x/dev/development-on-creatio-platform/8.1/category/integrations-tools>Integrations tools</a><button aria-label="Expand sidebar category 'Integrations tools'" aria-expanded=false type=button class="clean-btn menu__caret"></button></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="menu__link menu__link--sublist" href=/docs/8.x/dev/development-on-creatio-platform/8.1/category/mobile-app-development>Mobile app development</a><button aria-label="Expand sidebar category 'Mobile app development'" aria-expanded=false type=button class="clean-btn menu__caret"></button></div></ul></nav></div></div></aside><main class=docMainContainer_TBSr><div class="container padding-top--md padding-bottom--lg"><div class=row><div class="col docItemCol_z5aJ"><div class="theme-doc-version-banner alert alert--warning margin-bottom--md" role=alert><div>This is documentation for Creatio <b>8.1</b>.</div><div class=margin-top--md>For up-to-date documentation, see the <b><a href=/docs/8.x/dev/development-on-creatio-platform/development-tools/database-tools/backward-compatible-sql-scripts>latest version</a></b> (<!-- -->8.3<!-- -->).</div></div><div class=docItemContainer_c0TR><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label=Breadcrumbs><ul class=breadcrumbs itemscope itemtype=https://schema.org/BreadcrumbList><li class=breadcrumbs__item><a aria-label="Home page" class=breadcrumbs__link href=/docs/8.x/dev/><svg viewBox="0 0 24 24" class=breadcrumbHomeIcon_YNFT><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill=currentColor /></svg></a><li itemscope itemprop=itemListElement itemtype=https://schema.org/ListItem class=breadcrumbs__item><a class=breadcrumbs__link itemprop=item href=/docs/8.x/dev/development-on-creatio-platform/8.1/category/development-tools><span itemprop=name>Development tools</span></a><meta itemprop=position content=1><li itemscope itemprop=itemListElement itemtype=https://schema.org/ListItem class=breadcrumbs__item><a class=breadcrumbs__link itemprop=item href=/docs/8.x/dev/development-on-creatio-platform/8.1/category/database-tools><span itemprop=name>Database tools</span></a><meta itemprop=position content=2><li itemscope itemprop=itemListElement itemtype=https://schema.org/ListItem class="breadcrumbs__item breadcrumbs__item--active"><span class=breadcrumbs__link itemprop=name>Backward compatible scripts</span><meta itemprop=position content=3></ul></nav><div class=creatio-tags><div class=creatio-tags__content><span class="theme-doc-version-badge badge badge--secondary">Version: 8.1</span></div></div><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_bxCs"><button type=button class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>Backward compatible SQL scripts</h1></header><div class=difficulty-level><span class=difficulty-level-intermediate>Level: <!-- -->intermediate</span></div>
<p>If the package installation ends with an error, you cannot roll the configuration back completely since SQL scripts make irreversible changes to the database as part of the package installation. To prevent that, use backward compatible SQL scripts instead.</p>
<p>A <strong>backward compatible SQL script</strong> (safe SQL script) is an SQL script whose execution does not make irreversible changes to the database. Changes made by backward compatible SQL scripts as part of the package installation do not affect Creatio’s operability. Use backward compatible SQL scripts to ensure you can roll back to the previous configuration state completely in case of an error. Learn more in a separate article: <a href="https://academy.creatio.com/documents?ver=8.1&id=15202&anchor=title-2068-7" target=_blank rel="noopener noreferrer">Delivery management process</a>.</p>
<div class="theme-admonition theme-admonition-note alert alert--secondary admonition_WoCw"><div class=admonitionHeading_TMsN>note</div><div class=admonitionContent_vXIg><p>Since you can roll back to the previous configuration state from the package backup after the package installation is complete, restoration is accomplished by re-executing the previous version of the SQL script rather than by canceling the transaction.</div></div>
<p>Creatio lets you customize delivery process to execute CRUD operations with data as part of package installation in a way that does not cause irreparable changes to the database. Learn more in a separate article: <a href="https://academy.creatio.com/documents?ver=8.1&id=15009" target=_blank rel="noopener noreferrer">Customize delivery process</a>.</p>
<p>To develop a backward compatible SQL script, follow the recommendations listed in a different section during the development: <a href="https://academy.creatio.com/documents?ver=8.1&id=15109&anchor=title-3917-2" target=_blank rel="noopener noreferrer">Development recommendations for backward compatible SQL scripts</a>.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id=title-3917-3>Usage recommendations for backward compatible SQL scripts<a href=#title-3917-3 class=hash-link aria-label="Direct link to Usage recommendations for backward compatible SQL scripts" title="Direct link to Usage recommendations for backward compatible SQL scripts">​</a></h2>
<p>Creatio lets you roll back to the previous configuration state from the package backup if the package installation ends with an error or a successful installation results in issues with Creatio functionality. Learn more in a separate article: <a href="https://academy.creatio.com/documents?ver=8.1&id=15202&anchor=title-2068-7" target=_blank rel="noopener noreferrer">Delivery management</a>. To successfully roll back to the previous configuration state from the package backup, <strong>SQL script</strong> configuration items must meet the guidelines.</p>
<p><strong>Recommendations</strong> to ensure successful rollback to the previous configuration state from the package backup:</p>
<ul>
<li>No new or changed package configuration elements of the <strong>SQL script</strong> type. I.e., the modification date of the configuration element of the <strong>SQL script</strong> type is the same as date of its modification on the production environment to install the package.</li>
<li>New or changed package configuration elements of the <strong>SQL script</strong> type are backward compatible.</li>
</ul>
<p>Compliance with one of the recommendations ensures successful rollback to the previous configuration state from the package backup.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id=title-3917-1>Implement a backward compatible SQL script<a href=#title-3917-1 class=hash-link aria-label="Direct link to Implement a backward compatible SQL script" title="Direct link to Implement a backward compatible SQL script">​</a></h2>
<ol>
<li>
<p>Create a configuration element of the <strong>SQL script</strong> type. To do this, follow the instructions in a separate article: <a href="https://academy.creatio.com/documents?ver=8.1&id=15119&anchor=title-3952-1" target=_blank rel="noopener noreferrer">SQL script</a>.</p>
</li>
<li>
<p>Implement a script that complies with the recommendations. Learn more about the recommendations in a different section: <a href="https://academy.creatio.com/documents?ver=8.1&id=15109&anchor=title-3917-2" target=_blank rel="noopener noreferrer">Development recommendations for backward compatible SQL scripts</a>.</p>
<p>Follow these <strong>practices</strong> when you develop a backward compatible SQL script:</p>
<ul>
<li>Analyze the potential behavior of Creatio after it executes the SQL script.</li>
<li>Take into account the way the SQL script affects Creatio operability after the configuration rollback.</li>
</ul>
</li>
<li>
<p>Click <img decoding=async loading=lazy src=https://academy.creatio.com/sites/default/files/documentation/sdk/ru/BPMonlineWebSDK/Screenshots/ClientModule/8.0/scr_edit_button.png alt="" class=img_ev3q> in the setup area of the Script Designer and select the <strong>Backward compatible</strong> checkbox. The checkbox flags the SQL scenario as backward compatible. The developer that implements the SQL scenario is in charge of selecting the checkbox and ensuring the SQL script complies with the <a href="https://academy.creatio.com/documents?ver=8.1&id=15109&anchor=title-3917-2" target=_blank rel="noopener noreferrer">recommendations</a>.</p>
<figure><figcaption> <a id="" name=""></a></figcaption><div class=img-cotainer><img src=https://academy.creatio.com/sites/default/files/documentation/sdk/ru/BPMonlineWebSDK/Screenshots/BackwardCompatibleSqlScript/8.0/scr_Backward_compatible.png alt=""></div></figure>
</li>
</ol>
<p>If an error occurs during the package installation or the installation fails, you can roll back to the previous configuration state from the package backup.</p>
<div class="theme-admonition theme-admonition-caution alert alert--warning admonition_WoCw"><div class=admonitionHeading_TMsN>Important</div><div class=admonitionContent_vXIg><p>If you install a package that contains at least one configuration element of the <strong>SQL script</strong> type without the <strong>Backward compatible</strong> checkbox selected, fails, rollback to the previous configuration state from the package backup via the WorkspaceConsole utility will be suspended. Learn more in another article: <a href="https://academy.creatio.com/documents?ver=8.1&id=15202&anchor=title-2068-7" target=_blank rel="noopener noreferrer">Delivery management</a>.</div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id=title-3917-2>Development recommendations for backward compatible SQL scripts<a href=#title-3917-2 class=hash-link aria-label="Direct link to Development recommendations for backward compatible SQL scripts" title="Direct link to Development recommendations for backward compatible SQL scripts">​</a></h2>
<p>Follow the development <strong>recommendations</strong> to create backward compatible SQL scripts that do not cause issues with Creatio functionality after the configuration rollback. The recommendations are based on open sources as well as the official documentation of Microsoft SQL, PostgreSQL, and Oracle database management systems supported by Creatio.</p>
<div class="theme-admonition theme-admonition-info alert alert--info admonition_WoCw"><div class=admonitionHeading_TMsN>Recommendation</div><div class=admonitionContent_vXIg><p>Follow the ACID principle when you develop SQL scripts.</div></div>
<p>The <strong>ACID principle</strong> is a set of properties that ensures the reliability of database transactions. Learn more about the ACID principle in <a href="https://en.wikipedia.org/w/index.php?title=ACID&oldid=1102677290" target=_blank rel="noopener noreferrer">Wikipedia</a>.</p>
<p>The ACID principle is based on the following <strong>properties</strong>:</p>
<ul>
<li><strong>A</strong>tomicity</li>
<li><strong>C</strong>onsistency</li>
<li><strong>I</strong>solation</li>
<li><strong>D</strong>urability</li>
</ul>
<p>A single SQL script must correspond to a single entity. To <strong>execute several SQL scripts in a set order</strong>, follow the instructions in a separate article: <a href="https://academy.creatio.com/documents?ver=8.1&id=15119&anchor=title-3952-1" target=_blank rel="noopener noreferrer">SQL script</a>.</p>
<div class="theme-admonition theme-admonition-info alert alert--info admonition_WoCw"><div class=admonitionHeading_TMsN>Recommendation</div><div class=admonitionContent_vXIg><p>Do not use SQL scripts to change database entities.</div></div>
<p>A database entity is a view, function, procedure, or trigger. When you develop SQL scripts that change entities, keep in mind that Creatio might not recognize certain database tables or database table fields when you roll back to the previous configuration state from the package backup. Use SQL scripts to recreate entities instead of editing them.</p>
<p>To <strong>recreate an entity using an SQL script</strong>:</p>
<ol>
<li>Make sure the needed entity exists in the database tables.</li>
<li>Delete the current entity version.</li>
<li>Create a new entity version. Use the <code>CREATE</code> operator instead of <code>ALTER</code> operator to do this.</li>
<li>Set the <strong>Installation type</strong> property of the configuration element of the <strong>SQL script</strong> type to "AfterPackage" or "AfterSchemaData." Learn more about the available values of the <strong>Installation type</strong> property in a separate article: <a href="https://academy.creatio.com/documents?ver=8.1&id=15119&anchor=title-3952-1" target=_blank rel="noopener noreferrer">SQL script</a>.</li>
</ol>
<div class="theme-admonition theme-admonition-info alert alert--info admonition_WoCw"><div class=admonitionHeading_TMsN>Recommendation</div><div class=admonitionContent_vXIg><p>Do not use SQL scripts to create triggers.</div></div>
<p>For example, if you develop an SQL script that creates a field management trigger, Creatio behaves as follows. After Creatio executes an SQL script and you roll back to the previous configuration version from the package backup, issues with Creatio functionality can occur. Since the fields created by the trigger are new for the version to which you rolled back, you cannot delete the trigger. As such, this can lead to issues with Creatio functionality.</p>
<div class="theme-admonition theme-admonition-info alert alert--info admonition_WoCw"><div class=admonitionHeading_TMsN>Recommendation</div><div class=admonitionContent_vXIg><p>Do not use SQL scripts to delete database entities.</div></div>
<p>A database entity is a view, procedure, function, trigger, or database table.</p>
<p>We do not recommend deleting unused entities. Deleting unused entities violates dependencies in previous versions, thus causing issues with Creatio functionality. After Creatio executes the SQL script and you roll back to the previous configuration version from the package backup, deleted entities are not restored unless the SQL script recreates them in the previous package version. If you decide to delete a database entity regardless, make sure Creatio has not used it for a significant time.</p>
<p>Situations when you need to delete entities when deleting an app from Creatio, for example, when deleting Marketplace apps, are an exception.</p>
<p>To <strong>delete an entity using an SQL script when deleting an app</strong>, set the <strong>Installation type</strong> property of the configuration element of the <strong>SQL script</strong> type to "UninstallApp." Learn more about the available values of the <strong>Installation type</strong> property in a separate article: <a href="https://academy.creatio.com/documents?ver=8.1&id=15119&anchor=title-3952-1" target=_blank rel="noopener noreferrer">SQL script</a>.</p>
<div class="theme-admonition theme-admonition-info alert alert--info admonition_WoCw"><div class=admonitionHeading_TMsN>Recommendation</div><div class=admonitionContent_vXIg><p>Do not use SQL scripts to create and edit database tables.</div></div>
<p>Use <strong>objects</strong> instead of SQL scripts to create and edit database tables. Learn more in a separate article: <a href="https://academy.creatio.com/documents?ver=8.1&id=15107" target=_blank rel="noopener noreferrer">Object</a>.</p>
<p>You can use SQL scripts to create and edit the following <strong>database tables</strong>:</p>
<ul>
<li>temporary tables</li>
<li>service tables, i. e., tables that do not contain business data and are required to solve technical problems</li>
</ul>
<p>Follow these <strong>practices</strong> when creating and editing such database tables using SQL scripts:</p>
<ul>
<li>Make sure changes described by the SQL script do not cause issues with Creatio functionality.</li>
<li>Use table versioning that lets you switch logic between table versions.</li>
<li>Make sure fields, tables, and other objects required for the SQL scenario exist.</li>
<li>Keep in mind the use of such tables and their fields in indexes, primary keys, procedures, functions, triggers, and views.</li>
</ul>
<div class="theme-admonition theme-admonition-info alert alert--info admonition_WoCw"><div class=admonitionHeading_TMsN>Recommendation</div><div class=admonitionContent_vXIg><p>Do not use SQL scripts to change the field type or requirement flag in database tables.</div></div>
<p>Create new fields using <strong>objects</strong> to change the field type or requirement flag in database tables instead of changing the existing fields using SQL scripts. Learn more in a separate article: <a href="https://academy.creatio.com/documents?ver=8.1&id=15107" target=_blank rel="noopener noreferrer">Object</a>.</p>
<p>For example, if you execute an SQL script that changes the field type, Creatio behaves as follows. After Creatio executes the SQL script and you roll back to the previous configuration version from the package backup, the mismatched data type error occurs.</p>
<p>For example, if you execute an SQL script that changes the field requirement flag, Creatio behaves as follows. After Creatio executes the SQL script and you roll back to the previous configuration version from the package backup, the field remains required and you still have to fill it out to save the record.</p>
<div class="theme-admonition theme-admonition-info alert alert--info admonition_WoCw"><div class=admonitionHeading_TMsN>Recommendation</div><div class=admonitionContent_vXIg><p>Do not use SQL scripts to add required fields that have default values to database tables.</div></div>
<p>Use <strong>objects</strong> instead of SQL scripts to add required fields that have default values. Learn more in a separate article: <a href="https://academy.creatio.com/documents?ver=8.1&id=15107" target=_blank rel="noopener noreferrer">Object</a>.</p>
<div class="theme-admonition theme-admonition-info alert alert--info admonition_WoCw"><div class=admonitionHeading_TMsN>Recommendation</div><div class=admonitionContent_vXIg><p>Do not use SQL scripts to add data to database tables.</div></div>
<p>Use <strong>data bindings</strong> or install scripts instead of SQL scripts to add data to database tables. Learn more in separate articles: <a href="https://academy.creatio.com/documents?ver=8.1&id=15121&anchor=title-2105-9" target=_blank rel="noopener noreferrer">Packages basics</a>, <a href="https://academy.creatio.com/documents?ver=8.1&id=15009" target=_blank rel="noopener noreferrer">Customize delivery process</a>.</p>
<p>Make sure database tables do not have data that must be added using a complex filter or special procedure. This is relevant for key fields first and foremost. Creatio can execute an SQL script multiple times as part of debugging. Learn more in a separate guide: <a href=https://academy.creatio.com/docs/8.x/dev/development-on-creatio-platform/category/debugging-tools target=_blank rel="noopener noreferrer">Debugging</a>. Creatio does not delete data added by the SQL script when you roll back to the previous configuration version from the package backup. This can lead to issues with Creatio functionality.</p>
<div class="theme-admonition theme-admonition-info alert alert--info admonition_WoCw"><div class=admonitionHeading_TMsN>Recommendation</div><div class=admonitionContent_vXIg><p>Do not use SQL scripts to change database table data.</div></div>
<p>Use <strong>data bindings</strong> or install scripts instead of SQL scripts to change database table data. Learn more in separate articles: <a href="https://academy.creatio.com/documents?ver=8.1&id=15121&anchor=title-2105-9" target=_blank rel="noopener noreferrer">Packages basics</a>, <a href="https://academy.creatio.com/documents?ver=8.1&id=15009" target=_blank rel="noopener noreferrer">Customize delivery process</a>.</p>
<p>Some changes to database table data executed using an SQL script cannot be reversed using another SQL script or via a rollback to the previous configuration version from the package backup. For example, if Creatio executes an SQL script that changes the value of the <code>[IsActive]</code> column in the <code>[SysProcess]</code> database table from <code>true</code> to <code>false</code>, Creatio behaves as follows.</p>
<div class="language-sql codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_m3Ux><pre tabindex=0 class="prism-code language-sql codeBlock_qGQc thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_p187><span class=token-line style=color:#393A34><span class="token keyword" style=color:#00009f>UPDATE</span><span class="token plain"> SysProcess </span><span class="token keyword" style=color:#00009f>SET</span><span class="token plain"> IsActive </span><span class="token operator" style=color:#393A34>=</span><span class="token plain"> </span><span class="token boolean" style=color:#36acaa>true</span><span class="token plain"> </span><span class="token keyword" style=color:#00009f>WHERE</span><span class="token plain"> IsActive </span><span class="token operator" style=color:#393A34>=</span><span class="token plain"> </span><span class="token boolean" style=color:#36acaa>false</span><br></span></code></pre><div class=buttonGroup_6DOT><button type=button aria-label="Copy code to clipboard" title=Copy class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<p>After Creatio executes the SQL script, the <code>[IsActive]</code> column of the <code>[SysProcess]</code> database table has no <code>false</code> values. I. e., Creatio cannot determine which column values the SQL script changed. You can develop an SQL script that reverses the changes, but this requires significant effort on your end.</p>
<div class="theme-admonition theme-admonition-info alert alert--info admonition_WoCw"><div class=admonitionHeading_TMsN>Recommendation</div><div class=admonitionContent_vXIg><p>Do not use SQL scripts to delete business data from database tables.</div></div>
<p>We do not recommend deleting business data. For example, if you execute an SQL script that deletes field data, Creatio behaves as follows. After Creatio executes the SQL script and you roll back to the previous configuration version from the package backup, the field data remains deleted. I. e., the script deletes data permanently. The fact that the SQL script of the package to the version of which you roll back added this data is irrelevant. Use <strong>objects</strong> or install scripts instead of SQL scripts to create and change database table data. Learn more in separate articles: <a href="https://academy.creatio.com/documents?ver=8.1&id=15107" target=_blank rel="noopener noreferrer">Object</a>, <a href="https://academy.creatio.com/documents?ver=8.1&id=15009" target=_blank rel="noopener noreferrer">Customize delivery process</a>.</p>
<p>Service data, for example, the cleanup of the scheduler queue, is an exception. However, keep in mind that the deletion is permanent.</p>
<div class="theme-admonition theme-admonition-info alert alert--info admonition_WoCw"><div class=admonitionHeading_TMsN>Recommendation</div><div class=admonitionContent_vXIg><p>Ensure that the changes made by backward compatible SQL scripts do not affect the data integrity.</div></div>
<div class="theme-admonition theme-admonition-info alert alert--info admonition_WoCw"><div class=admonitionHeading_TMsN>Recommendation</div><div class=admonitionContent_vXIg><p>Check whether database tables contain procedures and functions before you call them in SQL scripts.</div></div>
<p>In most cases, you do not need to call procedures and functions in SQL scripts during a package installation. If such a need arises, make sure that the database tables contain the required procedures and functions.</p>
<hr>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id=see-also>See also<a href=#see-also class=hash-link aria-label="Direct link to See also" title="Direct link to See also">​</a></h2>
<p><a href="https://academy.creatio.com/documents?ver=8.1&id=15119" target=_blank rel="noopener noreferrer">SQL script</a></p>
<p><a href="https://academy.creatio.com/documents?ver=8.1&id=15207" target=_blank rel="noopener noreferrer">Delivery in WorkspaceConsole</a></p>
<p><a href="https://academy.creatio.com/documents?ver=8.1&id=15107" target=_blank rel="noopener noreferrer">Object</a></p>
<p><a href="https://academy.creatio.com/documents?ver=8.1&id=15121" target=_blank rel="noopener noreferrer">Packages basics</a></p>
<p><a href="https://academy.creatio.com/documents?ver=8.1&id=15202" target=_blank rel="noopener noreferrer">Delivery management process</a></p>
<p><a href="https://academy.creatio.com/documents?ver=8.1&id=15009" target=_blank rel="noopener noreferrer">Customize delivery process</a></p>
<hr>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id=resources>Resources<a href=#resources class=hash-link aria-label="Direct link to Resources" title="Direct link to Resources">​</a></h2>
<p><a href="https://en.wikipedia.org/w/index.php?title=ACID&oldid=1096746664" target=_blank rel="noopener noreferrer">ACID</a> (Wikipedia)</p>
<p><a href=https://academy.creatio.com/docs/8.x/dev/development-on-creatio-platform/category/debugging-tools target=_blank rel="noopener noreferrer">Debugging</a> (Creatio documentation)</div></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href=/docs/8.x/dev/development-on-creatio-platform/8.1/development-tools/database-tools/postgresql-features/examples/mssql-and-postgresql-script-examples><div class=pagination-nav__sublabel>Previous</div><div class=pagination-nav__label>Script examples</div></a><a class="pagination-nav__link pagination-nav__link--next" href=/docs/8.x/dev/development-on-creatio-platform/8.1/category/logging-tools><div class=pagination-nav__sublabel>Next</div><div class=pagination-nav__label>Logging tools</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href=#title-3917-3 class="table-of-contents__link toc-highlight">Usage recommendations for backward compatible SQL scripts</a><li><a href=#title-3917-1 class="table-of-contents__link toc-highlight">Implement a backward compatible SQL script</a><li><a href=#title-3917-2 class="table-of-contents__link toc-highlight">Development recommendations for backward compatible SQL scripts</a><li><a href=#see-also class="table-of-contents__link toc-highlight">See also</a><li><a href=#resources class="table-of-contents__link toc-highlight">Resources</a></ul></div></div></div></div></main></div></div></div></div><footer class=footer><div class=footer__top><div class="container container-fluid"><div class=footer__cont><div class=footer__logo><img src=/docs/8.x/dev/img/accelerate.svg alt="" class="footer__logo themedComponent_mlkZ themedComponent--light_NVdE" width=271.4 height=38><img src=/docs/8.x/dev/img/accelerate.svg alt="" class="footer__logo themedComponent_mlkZ themedComponent--dark_xIcU" width=271.4 height=38></div><div class="row footer__links"><div class="col footer__col"><ul class="footer__items clean-list"><li class=footer__item><a href=https://www.facebook.com/CreatioCompany target=_blank rel="noopener noreferrer" class=footer__link-item>Facebook<svg width=13.5 height=13.5 aria-hidden=true viewBox="0 0 24 24" class=iconExternalLink_nPIU><path fill=currentColor d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"/></svg></a><li class=footer__item><a href=https://www.linkedin.com/company/creatioglobal target=_blank rel="noopener noreferrer" class=footer__link-item>LinkedIn<svg width=13.5 height=13.5 aria-hidden=true viewBox="0 0 24 24" class=iconExternalLink_nPIU><path fill=currentColor d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"/></svg></a><li class=footer__item><a href=https://www.youtube.com/c/creatio target=_blank rel="noopener noreferrer" class=footer__link-item>YouTube<svg width=13.5 height=13.5 aria-hidden=true viewBox="0 0 24 24" class=iconExternalLink_nPIU><path fill=currentColor d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"/></svg></a><li class=footer__item><a href=https://www.twitter.com/Creatio_Global target=_blank rel="noopener noreferrer" class=footer__link-item>Twitter<svg width=13.5 height=13.5 aria-hidden=true viewBox="0 0 24 24" class=iconExternalLink_nPIU><path fill=currentColor d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"/></svg></a><li class=footer__item><a href=https://www.owler.com/company/Creatio target=_blank rel="noopener noreferrer" class=footer__link-item>Owler<svg width=13.5 height=13.5 aria-hidden=true viewBox="0 0 24 24" class=iconExternalLink_nPIU><path fill=currentColor d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"/></svg></a></ul></div><div class="col footer__col"><div class=footer__title>Connect with us</div><ul class="footer__items clean-list"><li class=footer__item><a href="tel:+1 617 765 7997" target=_blank rel="noopener noreferrer" class=footer__link-item>US: +1 617 765 7997</a><li class=footer__item><a href="tel:+44 20 3384 0040" target=_blank rel="noopener noreferrer" class=footer__link-item>UK: +44 20 3384 0040</a><li class=footer__item><a href="tel:+61 261 452 888" target=_blank rel="noopener noreferrer" class=footer__link-item>AU: +61 261 452 888</a></ul></div><div class="col footer__col"><div class=footer__title> </div><ul class="footer__items clean-list"><li class=footer__item><a href=mailto:info@creatio.com target=_blank rel="noopener noreferrer" class=footer__link-item>info@creatio.com</a><li class=footer__item><a href=mailto:info@creatio.com target=_blank rel="noopener noreferrer" class=footer__link-item>support@creatio.com</a></ul></div></div></div></div></div><div class=footer__bottom><div class="container container-fluid"><div class=footer__copyright>© 2025 Creatio. All rights reserved.  |  <a href=https://www.creatio.com/privacy-policy target=_blank>Privacy Policy</a></div></div></div></footer></div>