<!doctype html><html lang=en dir=ltr class="docs-wrapper plugin-docs plugin-id-default docs-version-8.2 docs-doc-page docs-doc-id-undefined" data-has-hydrated=false><meta charset=UTF-8><meta name=generator content="Docusaurus v3.7.0"><title data-rh=true>Data access through ORM | Creatio Academy</title><meta data-rh=true name=viewport content="width=device-width, initial-scale=1.0"><meta data-rh=true name=twitter:card content=summary_large_image><meta data-rh=true property=og:image content=https://academy.creatio.com/docs/8.x/dev/img/OG-Creatio-Docs.jpg><meta data-rh=true name=twitter:image content=https://academy.creatio.com/docs/8.x/dev/img/OG-Creatio-Docs.jpg><meta data-rh=true property=og:url content=https://academy.creatio.com/docs/8.x/dev/development-on-creatio-platform/8.2/back-end-development/data-operations-back-end/orm/overview><meta data-rh=true property=og:locale content=en><meta data-rh=true name=docusaurus_locale content=en><meta data-rh=true name=docsearch:language content=en><meta data-rh=true name=docusaurus_version content=8.2><meta data-rh=true name=docusaurus_tag content=docs-default-8.2><meta data-rh=true name=docsearch:version content=8.2><meta data-rh=true name=docsearch:docusaurus_tag content=docs-default-8.2><meta data-rh=true property=og:title content="Data access through ORM | Creatio Academy"><meta data-rh=true name=description content="The back-end core components provide the following database access options:"><meta data-rh=true property=og:description content="The back-end core components provide the following database access options:"><link data-rh=true rel=icon href=/docs/8.x/dev/img/favicon.ico><link data-rh=true rel=canonical href=https://academy.creatio.com/docs/8.x/dev/development-on-creatio-platform/8.2/back-end-development/data-operations-back-end/orm/overview><link data-rh=true rel=alternate href=https://academy.creatio.com/docs/8.x/dev/development-on-creatio-platform/8.2/back-end-development/data-operations-back-end/orm/overview hreflang=en><link data-rh=true rel=alternate href=https://academy.creatio.com/docs/8.x/dev/development-on-creatio-platform/8.2/back-end-development/data-operations-back-end/orm/overview hreflang=x-default><link rel=preconnect href=https://www.googletagmanager.com><script>window.dataLayer=window.dataLayer||[],function(e,t,a,n,r){e[n]=e[n]||[],e[n].push({"gtm.start":new Date().getTime(),event:"gtm.js"});var d=t.getElementsByTagName(a)[0],g=t.createElement(a);g.async=!0,g.src="https://www.googletagmanager.com/gtm.js?id="+r+("dataLayer"!=n?"&l="+n:""),d.parentNode.insertBefore(g,d)}(window,document,"script","dataLayer","GTM-5C6KM9TP")</script><link rel=stylesheet href=/docs/8.x/dev/assets/css/styles.89ecc891.css><script src=/docs/8.x/dev/assets/js/runtime~main.1fca6f6f.js defer></script><script src=/docs/8.x/dev/assets/js/main.020f5612.js defer></script><body class=navigation-with-keyboard><noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-5C6KM9TP" height=0 width=0 style=display:none;visibility:hidden></iframe></noscript>


<script>!function(){var t,e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();t=null!==e?e:"light",document.documentElement.setAttribute("data-theme",t)}(),function(){try{for(var[t,e]of new URLSearchParams(window.location.search).entries())if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id=__docusaurus><link rel=preload as=image href=/docs/8.x/dev/img/logo-white.svg><link rel=preload as=image href=/docs/8.x/dev/img/logo.svg><link rel=preload as=image href=https://academy.creatio.com/sites/default/files/documentation/sdk/ru/BPMonlineWebSDK/Screenshots/UsingEntitySchemaQuery/7.18/src_UsingEntitySchemaQuery1_en.png><link rel=preload as=image href=https://academy.creatio.com/sites/default/files/documentation/sdk/ru/BPMonlineWebSDK/Screenshots/UsingEntitySchemaQuery/7.18/scr_direct_connections.png><link rel=preload as=image href=/docs/8.x/dev/img/accelerate.svg><div role=region aria-label="Skip to main content"><a class=skipToContent_fXgn href=#__docusaurus_skipToContent_fallback>Skip to main content</a></div><div class=navtop><div class=container-fluid><div class=navtop__content><div class=search><form method=get><input class=search__input type=text placeholder=Search name=search><input class=search__button type=submit value=Search></form><div class=search__toggle></div></div><ul class=sites><li class=sites__item><a href=https://www.creatio.com/ rel=nofollow target=_blank>Creatio</a><li class=sites__item><a href=https://community.creatio.com/ rel=nofollow target=_blank>Community</a><li class=sites__item><a href=https://marketplace.creatio.com/ rel=nofollow target=_blank>Marketplace</a><li class=sites__item><a href=https://knowledge-hub.creatio.com/ rel=nofollow target=_blank>Knowledge Hub</a></ul></div></div></div><nav aria-label=Main class="navbar navbar--fixed-top"><div class="navbar__inner container-fluid"><div class=navbar__items><div class=navbar__toggle><span></span></div><a class="navbar__brand navbar__brand_mobile" href=/><img src=/docs/8.x/dev/img/logo-white.svg alt="Creatio Academy"></a><a class=navbar__brand href=/><img src=/docs/8.x/dev/img/logo.svg alt="Creatio Academy"></a><a aria-current=page class="navbar__item navbar__link navbar__link--active" href=/docs/8.x/dev/>Guides</a><a href=https://academy.creatio.com/e-learning target=_blank rel="noopener noreferrer" class="navbar__item navbar__link">E-learning</a><a href=https://academy.creatio.com/training target=_blank rel="noopener noreferrer" class="navbar__item navbar__link">Training</a><a href=https://academy.creatio.com/certification target=_blank rel="noopener noreferrer" class="navbar__item navbar__link">Certification</a><div class="navbar__item dropdown dropdown--hoverable"><a aria-current=page class="navbar__link active" aria-haspopup=true aria-expanded=false role=button href=/docs/8.x/dev/development-on-creatio-platform/8.2/back-end-development/data-operations-back-end/orm/overview>8.2</a><ul class=dropdown__menu><li><a class=dropdown__link href=/docs/8.x/dev/development-on-creatio-platform/back-end-development/data-operations-back-end/orm/overview>8.3</a><li><a aria-current=page class="dropdown__link dropdown__link--active" href=/docs/8.x/dev/development-on-creatio-platform/8.2/back-end-development/data-operations-back-end/orm/overview>8.2</a><li><a class=dropdown__link href=/docs/8.x/dev/development-on-creatio-platform/8.1/back-end-development/data-operations-back-end/orm/overview>8.1</a><li><a class=dropdown__link href=/docs/8.x/dev/development-on-creatio-platform/8.0/back-end-development/data-operations-back-end/orm/overview>8.0</a></ul></div></div><div class="navbar__items navbar__items--right"><div class=search><form method=get><input class=search__input type=text placeholder=Search name=search><input class=search__button type=submit value=Search></form><div class=search__toggle></div></div></div></div><div role=presentation class=navbar-sidebar__backdrop></div></nav><div id=__docusaurus_skipToContent_fallback class="main-wrapper mainWrapper_z2l0"><div class=docsWrapper_bSxm><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type=button></button><div class=container-fluid><div class=docRoot_cWv0><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class=sidebarViewport_aRkj><div class="doc-menu sidebar_mhZE"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="menu__link menu__link--sublist" href=/docs/8.x/dev/development-on-creatio-platform/8.2/category/getting-started>Getting started</a><button aria-label="Expand sidebar category 'Getting started'" aria-expanded=false type=button class="clean-btn menu__caret"></button></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="menu__link menu__link--sublist" href=/docs/8.x/dev/development-on-creatio-platform/8.2/category/architecture>Architecture</a><button aria-label="Expand sidebar category 'Architecture'" aria-expanded=false type=button class="clean-btn menu__caret"></button></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="menu__link menu__link--sublist" href=/docs/8.x/dev/development-on-creatio-platform/8.2/category/development-tools>Development tools</a><button aria-label="Expand sidebar category 'Development tools'" aria-expanded=false type=button class="clean-btn menu__caret"></button></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class=menu__list-item-collapsible><a class="menu__link menu__link--sublist menu__link--active" href=/docs/8.x/dev/development-on-creatio-platform/8.2/category/back-end-development>Back-end development</a><button aria-label="Collapse sidebar category 'Back-end development'" aria-expanded=true type=button class="clean-btn menu__caret"></button></div><ul style=display:block;overflow:visible;height:auto class=menu__list><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class=menu__link tabindex=0 href=/docs/8.x/dev/development-on-creatio-platform/8.2/back-end-development/types-visibility>.NET types visibility</a><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="menu__link menu__link--sublist" tabindex=0 href=/docs/8.x/dev/development-on-creatio-platform/8.2/category/replacing-class-factory>Replacing class factory</a><button aria-label="Expand sidebar category 'Replacing class factory'" aria-expanded=false type=button class="clean-btn menu__caret"></button></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class=menu__list-item-collapsible><a class="menu__link menu__link--sublist menu__link--active" tabindex=0 href=/docs/8.x/dev/development-on-creatio-platform/8.2/data-operations-back-end>Data operations (back-end)</a><button aria-label="Collapse sidebar category 'Data operations (back-end)'" aria-expanded=true type=button class="clean-btn menu__caret"></button></div><ul style=display:block;overflow:visible;height:auto class=menu__list><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="menu__link menu__link--sublist" tabindex=0 href=/docs/8.x/dev/development-on-creatio-platform/8.2/category/background-operations>Background operations</a><button aria-label="Expand sidebar category 'Background operations'" aria-expanded=false type=button class="clean-btn menu__caret"></button></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="menu__link menu__link--sublist" tabindex=0 href=/docs/8.x/dev/development-on-creatio-platform/8.2/category/direct-access>Direct access</a><button aria-label="Expand sidebar category 'Direct access'" aria-expanded=false type=button class="clean-btn menu__caret"></button></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item"><div class=menu__list-item-collapsible><a class="menu__link menu__link--sublist menu__link--active" tabindex=0 href=/docs/8.x/dev/development-on-creatio-platform/8.2/category/orm>ORM</a><button aria-label="Collapse sidebar category 'ORM'" aria-expanded=true type=button class="clean-btn menu__caret"></button></div><ul style=display:block;overflow:visible;height:auto class=menu__list><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link menu__link--active" aria-current=page tabindex=0 href=/docs/8.x/dev/development-on-creatio-platform/8.2/back-end-development/data-operations-back-end/orm/overview>Overview</a><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-4 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="menu__link menu__link--sublist" tabindex=0 href=/docs/8.x/dev/development-on-creatio-platform/8.2/orm-examples>Examples</a><button aria-label="Expand sidebar category 'Examples'" aria-expanded=false type=button class="clean-btn menu__caret"></button></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-4 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="menu__link menu__link--sublist" tabindex=0 href=/docs/8.x/dev/development-on-creatio-platform/8.2/orm-references>References</a><button aria-label="Expand sidebar category 'References'" aria-expanded=false type=button class="clean-btn menu__caret"></button></div></ul><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class=menu__link tabindex=0 href=/docs/8.x/dev/development-on-creatio-platform/8.2/back-end-development/data-operations-back-end/complex-select-queries>Complex Select queries</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class=menu__link tabindex=0 href=/docs/8.x/dev/development-on-creatio-platform/8.2/back-end-development/data-operations-back-end/copy-hierarchical-data>Hierarchical data</a></ul><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="menu__link menu__link--sublist" tabindex=0 href=/docs/8.x/dev/development-on-creatio-platform/8.2/category/web-services>Web services</a><button aria-label="Expand sidebar category 'Web services'" aria-expanded=false type=button class="clean-btn menu__caret"></button></div><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class=menu__link tabindex=0 href=/docs/8.x/dev/development-on-creatio-platform/8.2/back-end-development/objects-business-logic>Object events</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class=menu__link tabindex=0 href=/docs/8.x/dev/development-on-creatio-platform/8.2/back-end-development/data-storage-and-cache>Data storage and cache</a><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="menu__link menu__link--sublist" tabindex=0 href=/docs/8.x/dev/development-on-creatio-platform/8.2/category/localizable-resources>Localizable resources</a><button aria-label="Expand sidebar category 'Localizable resources'" aria-expanded=false type=button class="clean-btn menu__caret"></button></div><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class=menu__link tabindex=0 href=/docs/8.x/dev/development-on-creatio-platform/8.2/back-end-development/automatic-data-binding>Automatic data binding</a><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="menu__link menu__link--sublist" tabindex=0 href=/docs/8.x/dev/development-on-creatio-platform/8.2/category/file-management-api>File management API</a><button aria-label="Expand sidebar category 'File management API'" aria-expanded=false type=button class="clean-btn menu__caret"></button></div><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class=menu__link tabindex=0 href=/docs/8.x/dev/development-on-creatio-platform/8.2/back-end-development/net-class-libraries-of-platform-core>.NET classes reference</a></ul><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="menu__link menu__link--sublist" href=/docs/8.x/dev/development-on-creatio-platform/8.2/category/front-end-development>Front-end development</a><button aria-label="Expand sidebar category 'Front-end development'" aria-expanded=false type=button class="clean-btn menu__caret"></button></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="menu__link menu__link--sublist" href=/docs/8.x/dev/development-on-creatio-platform/8.2/category/platform-customization>Platform customization</a><button aria-label="Expand sidebar category 'Platform customization'" aria-expanded=false type=button class="clean-btn menu__caret"></button></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="menu__link menu__link--sublist" href=/docs/8.x/dev/development-on-creatio-platform/8.2/category/integrations-tools>Integrations tools</a><button aria-label="Expand sidebar category 'Integrations tools'" aria-expanded=false type=button class="clean-btn menu__caret"></button></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="menu__link menu__link--sublist" href=/docs/8.x/dev/development-on-creatio-platform/8.2/category/mobile-app-development>Mobile app development</a><button aria-label="Expand sidebar category 'Mobile app development'" aria-expanded=false type=button class="clean-btn menu__caret"></button></div></ul></nav></div></div></aside><main class=docMainContainer_TBSr><div class="container padding-top--md padding-bottom--lg"><div class=row><div class="col docItemCol_z5aJ"><div class="theme-doc-version-banner alert alert--warning margin-bottom--md" role=alert><div>This is documentation for Creatio <b>8.2</b>.</div><div class=margin-top--md>For up-to-date documentation, see the <b><a href=/docs/8.x/dev/development-on-creatio-platform/back-end-development/data-operations-back-end/orm/overview>latest version</a></b> (<!-- -->8.3<!-- -->).</div></div><div class=docItemContainer_c0TR><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label=Breadcrumbs><ul class=breadcrumbs itemscope itemtype=https://schema.org/BreadcrumbList><li class=breadcrumbs__item><a aria-label="Home page" class=breadcrumbs__link href=/docs/8.x/dev/><svg viewBox="0 0 24 24" class=breadcrumbHomeIcon_YNFT><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill=currentColor /></svg></a><li itemscope itemprop=itemListElement itemtype=https://schema.org/ListItem class=breadcrumbs__item><a class=breadcrumbs__link itemprop=item href=/docs/8.x/dev/development-on-creatio-platform/8.2/category/back-end-development><span itemprop=name>Back-end development</span></a><meta itemprop=position content=1><li itemscope itemprop=itemListElement itemtype=https://schema.org/ListItem class=breadcrumbs__item><a class=breadcrumbs__link itemprop=item href=/docs/8.x/dev/development-on-creatio-platform/8.2/data-operations-back-end><span itemprop=name>Data operations (back-end)</span></a><meta itemprop=position content=2><li itemscope itemprop=itemListElement itemtype=https://schema.org/ListItem class=breadcrumbs__item><a class=breadcrumbs__link itemprop=item href=/docs/8.x/dev/development-on-creatio-platform/8.2/category/orm><span itemprop=name>ORM</span></a><meta itemprop=position content=3><li itemscope itemprop=itemListElement itemtype=https://schema.org/ListItem class="breadcrumbs__item breadcrumbs__item--active"><span class=breadcrumbs__link itemprop=name>Overview</span><meta itemprop=position content=4></ul></nav><div class=creatio-tags><div class=creatio-tags__content><span class="theme-doc-version-badge badge badge--secondary">Version: 8.2</span></div></div><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_bxCs"><button type=button class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>Data access through ORM</h1></header><div class=difficulty-level><span class=difficulty-level-advanced>Level: <!-- -->advanced</span></div>
<p>The back-end core components provide the following database <strong>access options</strong>:</p>
<ul>
<li>access using the ORM model</li>
<li>direct access</li>
</ul>
<p>This article covers database queries that use the ORM model.</p>
<p><strong>ORM</strong> (Object-relational mapping) is a technology that lets you use object-oriented programming languages to manage data retrieved from the database. The <strong>purpose</strong> of ORM is to bind objects implemented in the code to the database table records.</p>
<p>The ORM data model implements data management via the following <strong>classes</strong>:</p>
<ul>
<li>The <code>Terrasoft.Core.Entities.EntitySchemaQuery</code> class builds queries to retrieve the database table records. The queries apply the access permissions of the current user.</li>
<li>The <code>Terrasoft.Core.Entities.Entity</code> class accesses entities that represent records in the database table.</li>
</ul>
<p>We recommend using the ORM model to access data, though the direct access to the database is also implemented in the back-end core components. Learn more about running direct database queries: <a href="https://academy.creatio.com/documents?ver=8.2&id=15233" target=_blank rel="noopener noreferrer">Access data directly</a>.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id=title-1263-1>Configure a column path relative to the root schema<a href=#title-1263-1 class=hash-link aria-label="Direct link to Configure a column path relative to the root schema" title="Direct link to Configure a column path relative to the root schema">​</a></h2>
<p>Base a selection query that uses <code>EntitySchemaQuery</code> on the root schema. The <strong>root schema</strong> is the database table relative to which to build paths to the query columns, including the columns of joinable tables. To use a table column in a query, set the path to the column correctly.</p>
<p>Follow the <strong>principle of connection by lookup fields</strong> when building the column paths. Build the name of a column to add to the query as a chain of interconnected links. Each link must represent the context of the schema connected to the previous schema by a lookup column.</p>
<figure><figcaption> <a id="" name=""></a></figcaption><div class=img-cotainer><img src=https://academy.creatio.com/sites/default/files/documentation/sdk/ru/BPMonlineWebSDK/Screenshots/UsingEntitySchemaQuery/7.18/src_UsingEntitySchemaQuery1_en.png alt=""></div></figure>
<p>The template for configuring the path to a column in the N schema is as follows: <code>1SchemaContext.[...].NSchemaContext.LookupSchema'sColumnName</code>.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id=title-1263-2>Specify the column path using the direct connections<a href=#title-1263-2 class=hash-link aria-label="Direct link to Specify the column path using the direct connections" title="Direct link to Specify the column path using the direct connections">​</a></h3>
<p>The template for configuring the column path using the <strong>direct connections</strong> is as follows: <code>LookupColumnName.LookupSchema'sColumnSchemaName</code>.</p>
<p>Use direct connections if the connection lookup column is located in the main schema and links to the joinable schema. For example, a <code>[City]</code> root schema contains the <code>[Country]</code> lookup column. The column is connected to the <code>[Country]</code> lookup schema by the <code>[Id]</code> column.</p>
<figure><figcaption> <a id="" name=""></a></figcaption><div class=img-cotainer><img src=https://academy.creatio.com/sites/default/files/documentation/sdk/ru/BPMonlineWebSDK/Screenshots/UsingEntitySchemaQuery/7.18/scr_direct_connections.png alt=""></div></figure>
<p>The path to the column that contains the name of the country connected to the city, built using the direct connections: <code>Country.Name</code>. Where:</p>
<ul>
<li><code>Country</code> is the name of the lookup column in the <code>[City]</code> root schema. Links to the <code>[Country]</code> schema.</li>
<li><code>Name</code> is the name of the column in the <code>[Country]</code> lookup schema.</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id=title-1263-3>Specify the column path using the reverse connections<a href=#title-1263-3 class=hash-link aria-label="Direct link to Specify the column path using the reverse connections" title="Direct link to Specify the column path using the reverse connections">​</a></h3>
<p><strong>Unlike</strong> direct connections, reverse connections require the lookup field to join to be located in the joinable entity, not the main entity.</p>
<p>The template for configuring the column path using the <strong>reverse connections</strong> is as follows: <code>[JoinableSchemaName:NameOfTheColumnToLinkTheJoinableSchema:NameOfTheColumnToLinkTheCurrentSchema].JoinableSchema'sColumnName</code>.</p>
<p>The path to the name column of the account whose <code>[City]</code> field contains the <code>[City]</code> record selected in the query, built using the reverse connections: <code>[Account:City:Id].Name</code>. Where:</p>
<ul>
<li><code>Account</code> is the name of the joinable schema.</li>
<li><code>City</code> is the name of the <code>[Account]</code> schema's column to connect the joinable schema.</li>
<li><code>Id</code> is the name of the <code>[City]</code> schema's lookup column to connect the current schema.</li>
<li><code>Name</code> is the value of the <code>[Account]</code> schema's lookup column.</li>
</ul>
<p>If the schema's lookup column to connect the current schema is <code>[Id]</code>, you do not have to specify it: <code>[JoinableSchemaName:NameOfTheColumnToConnectTheJoinableSchema].JoinableSchema'sColumnName</code>. For example, <code>[Account:City].Name</code>.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id=title-1263-4>Retrieve data from the database<a href=#title-1263-4 class=hash-link aria-label="Direct link to Retrieve data from the database" title="Direct link to Retrieve data from the database">​</a></h2>
<p>Use the following <strong>classes</strong> to retrieve data from the database:</p>
<ul>
<li><code>Terrasoft.Core.DB.Select</code> retrieves data by accessing the database directly. Learn more: <a href="https://academy.creatio.com/documents?ver=8.2&id=15233&anchor=title-2001-1" target=_blank rel="noopener noreferrer">Access data directly</a>.</li>
<li><code>Terrasoft.Core.Entities.EntitySchemaQuery</code> retrieves database data using the ORM model.</li>
</ul>
<p>The <strong>purpose</strong> of the <code>Terrasoft.Core.Entities.EntitySchemaQuery</code> class is to build selection queries for database table records. By default, you can retrieve up to 20 000 records in a query. This value can be modified in the <code>MaxEntityRowCount</code> setting in the <code>..\Terrasoft.WebApp\Web.config</code> file.</p>
<div class="theme-admonition theme-admonition-caution alert alert--warning admonition_WoCw"><div class=admonitionHeading_TMsN>Important</div><div class=admonitionContent_vXIg><p>However, we do not recommend modifying the <code>MaxEntityRowCount</code> setting. Doing so may lead to performance issues.</div></div>
<p>After you create and configure the class instance, Creatio will build a <code>SELECT</code> query to the application database. You can add columns, filters, and restriction conditions to the query. You can also set the parameters to output the query results in pagination mode. If needed, use the <code>Terrasoft.Core.Entities.EntitySchemaQueryOptions</code> class to set the parameters of a hierarchical query. Pass the same <code>EntitySchemaQueryOptions</code> instance as the <code>GetEntityCollection()</code> method parameter of the corresponding query to retrieve the results of various queries.</p>
<p>The <code>Terrasoft.Core.Entities.EntitySchemaQuery</code> class <strong>major features</strong>:</p>
<ul>
<li>The resulting query applies the access permissions of the current user.</li>
<li>You can manage the current user's access permissions to the tables that <code>JOIN</code> SQL operator joined to the query.</li>
<li>The class lets you manage data of a <a href="https://academy.creatio.com/documents?ver=8.2&id=15268&anchor=title-3577-3" target=_blank rel="noopener noreferrer">cache repository</a> or any repository you specify.</li>
</ul>
<p>Creatio will cache the data retrieved from the database after running the query. Any repository that implements the <code>Terrasoft.Core.Store.ICacheStore</code> interface can serve as the query cache. By default, Creatio uses the session level cache with local storage. Define the query cache in the <code>Cache</code> property of the <code>EntitySchemaQuery</code> class instance. Set the key to access the query cache in the <code>CacheItemName</code> property. Learn more about Creatio repository levels: <a href="https://academy.creatio.com/documents?ver=8.2&id=15268&anchor=title-3577-1" target=_blank rel="noopener noreferrer">Storage types</a>.</p>
<p>As <strong>result of the query</strong>, is the <code>Terrasoft.Nui.ServiceModel.DataContract.EntityCollection</code> instance or the <code>Terrasoft.Core.Entities.Entity</code> class instance collection. Each <code>Entity</code> collection instance represents a string of data returned by the query.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id=title-1263-5>Manage joined tables<a href=#title-1263-5 class=hash-link aria-label="Direct link to Manage joined tables" title="Direct link to Manage joined tables">​</a></h3>
<p>You can specify the schema join type of a query using the <code>EntitySchemaQuery</code> class. Use the <code>JOIN</code> operator to add the joinable schema column to the query.</p>
<p>The template for configuring the join type of the joinable schema column is as follows: <code>SpecialCharacterOfTheJoinTypeNameOfTheColumnToConnectTheJoinableSchema</code>.</p>
<p>View the join types description in the table below.</p>
<table><tr><th><p>Join type<th><p>Special character of the join type<th><p>Use example<tr><td><center><p>INNER JOIN</center><td><center><p>=</center><td><center><p>=Country.Name</center><tr><td><center><p>LEFT OUTER JOIN</center><td><center><p>></center><td><center><p>>Country.Name</center><tr><td><center><p>RIGHT OUTER JOIN</center><td><center><p>&lt;</center><td><center><p>&lt;Country.Name</center><tr><td><center><p>FULL OUTER JOIN</center><td><center><p>&lt;></center><td><center><p>&lt;>Country.Name</center><tr><td><center><p>CROSS JOIN</center><td><center><p>*</center><td><center><p>*Country.Name</center></table>
<p>By default, Creatio uses the <code>LEFT OUTER JOIN</code> type.</p>
<p>See the example that adds columns to a query using various join types below.</p>
<div class="language-cs codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockTitle_P25_>Add columns to a query</div><div class=codeBlockContent_m3Ux><pre tabindex=0 class="prism-code language-cs codeBlock_qGQc thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_p187><span class=token-line style=color:#393A34><span class="token comment" style=color:#999988;font-style:italic>/* Create a query instance based on the City root schema. */</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token class-name keyword" style=color:#00009f>var</span><span class="token plain"> esqResult </span><span class="token operator" style=color:#393A34>=</span><span class="token plain"> </span><span class="token keyword" style=color:#00009f>new</span><span class="token plain"> </span><span class="token constructor-invocation class-name">EntitySchemaQuery</span><span class="token punctuation" style=color:#393A34>(</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">    UserConnection</span><span class="token punctuation" style=color:#393A34>.</span><span class="token plain">EntitySchemaManager</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token string" style=color:#e3116c>"City"</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token punctuation" style=color:#393A34>)</span><span class="token punctuation" style=color:#393A34>;</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token comment" style=color:#999988;font-style:italic>/* Add the Country schema of the LEFT OUTER JOIN type to the query. */</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">esqResult</span><span class="token punctuation" style=color:#393A34>.</span><span class="token function" style=color:#d73a49>AddColumn</span><span class="token punctuation" style=color:#393A34>(</span><span class="token string" style=color:#e3116c>"Country.Name"</span><span class="token punctuation" style=color:#393A34>)</span><span class="token punctuation" style=color:#393A34>;</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token comment" style=color:#999988;font-style:italic>/* Add the Country schema of the INNER JOIN type to the query. */</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">esqResult</span><span class="token punctuation" style=color:#393A34>.</span><span class="token function" style=color:#d73a49>AddColumn</span><span class="token punctuation" style=color:#393A34>(</span><span class="token string" style=color:#e3116c>"=Country.Name"</span><span class="token punctuation" style=color:#393A34>)</span><span class="token punctuation" style=color:#393A34>;</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token comment" style=color:#999988;font-style:italic>/* Add the Country schema of the LEFT OUTER JOIN type and the Contact schema of the RIGHT OUTER JOIN type to the query. */</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">esqResult</span><span class="token punctuation" style=color:#393A34>.</span><span class="token function" style=color:#d73a49>AddColumn</span><span class="token punctuation" style=color:#393A34>(</span><span class="token string" style=color:#e3116c>">Country.&lt;CreatedBy.Name"</span><span class="token punctuation" style=color:#393A34>)</span><span class="token punctuation" style=color:#393A34>;</span><br></span></code></pre><div class=buttonGroup_6DOT><button type=button aria-label="Copy code to clipboard" title=Copy class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<p>As a result, Creatio will generate the SQL query.</p>
<div class="language-sql codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockTitle_P25_>SQL query</div><div class=codeBlockContent_m3Ux><pre tabindex=0 class="prism-code language-sql codeBlock_qGQc thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_p187><span class=token-line style=color:#393A34><span class="token keyword" style=color:#00009f>SELECT</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token punctuation" style=color:#393A34>[</span><span class="token plain">Country</span><span class="token punctuation" style=color:#393A34>]</span><span class="token punctuation" style=color:#393A34>.</span><span class="token punctuation" style=color:#393A34>[</span><span class="token plain">Name</span><span class="token punctuation" style=color:#393A34>]</span><span class="token plain"> </span><span class="token punctuation" style=color:#393A34>[</span><span class="token plain">Country</span><span class="token punctuation" style=color:#393A34>.</span><span class="token plain">Name</span><span class="token punctuation" style=color:#393A34>]</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token punctuation" style=color:#393A34>[</span><span class="token plain">Country1</span><span class="token punctuation" style=color:#393A34>]</span><span class="token punctuation" style=color:#393A34>.</span><span class="token punctuation" style=color:#393A34>[</span><span class="token plain">Name</span><span class="token punctuation" style=color:#393A34>]</span><span class="token plain"> </span><span class="token punctuation" style=color:#393A34>[</span><span class="token plain">Country1</span><span class="token punctuation" style=color:#393A34>.</span><span class="token plain">Name</span><span class="token punctuation" style=color:#393A34>]</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token punctuation" style=color:#393A34>[</span><span class="token plain">CreatedBy</span><span class="token punctuation" style=color:#393A34>]</span><span class="token punctuation" style=color:#393A34>.</span><span class="token punctuation" style=color:#393A34>[</span><span class="token plain">Name</span><span class="token punctuation" style=color:#393A34>]</span><span class="token plain"> </span><span class="token punctuation" style=color:#393A34>[</span><span class="token plain">CreatedBy</span><span class="token punctuation" style=color:#393A34>.</span><span class="token plain">Name</span><span class="token punctuation" style=color:#393A34>]</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token keyword" style=color:#00009f>FROM</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token punctuation" style=color:#393A34>[</span><span class="token plain">dbo</span><span class="token punctuation" style=color:#393A34>]</span><span class="token punctuation" style=color:#393A34>.</span><span class="token punctuation" style=color:#393A34>[</span><span class="token plain">City</span><span class="token punctuation" style=color:#393A34>]</span><span class="token plain"> </span><span class="token punctuation" style=color:#393A34>[</span><span class="token plain">City</span><span class="token punctuation" style=color:#393A34>]</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token keyword" style=color:#00009f>LEFT</span><span class="token plain"> </span><span class="token keyword" style=color:#00009f>OUTER</span><span class="token plain"> </span><span class="token keyword" style=color:#00009f>JOIN</span><span class="token plain"> </span><span class="token punctuation" style=color:#393A34>[</span><span class="token plain">dbo</span><span class="token punctuation" style=color:#393A34>]</span><span class="token punctuation" style=color:#393A34>.</span><span class="token punctuation" style=color:#393A34>[</span><span class="token plain">Country</span><span class="token punctuation" style=color:#393A34>]</span><span class="token plain"> </span><span class="token punctuation" style=color:#393A34>[</span><span class="token plain">Country</span><span class="token punctuation" style=color:#393A34>]</span><span class="token plain"> </span><span class="token keyword" style=color:#00009f>ON</span><span class="token plain"> </span><span class="token punctuation" style=color:#393A34>(</span><span class="token punctuation" style=color:#393A34>[</span><span class="token plain">Country</span><span class="token punctuation" style=color:#393A34>]</span><span class="token punctuation" style=color:#393A34>.</span><span class="token punctuation" style=color:#393A34>[</span><span class="token plain">Id</span><span class="token punctuation" style=color:#393A34>]</span><span class="token plain"> </span><span class="token operator" style=color:#393A34>=</span><span class="token plain"> </span><span class="token punctuation" style=color:#393A34>[</span><span class="token plain">City</span><span class="token punctuation" style=color:#393A34>]</span><span class="token punctuation" style=color:#393A34>.</span><span class="token punctuation" style=color:#393A34>[</span><span class="token plain">CountryId</span><span class="token punctuation" style=color:#393A34>]</span><span class="token punctuation" style=color:#393A34>)</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token keyword" style=color:#00009f>INNER</span><span class="token plain"> </span><span class="token keyword" style=color:#00009f>JOIN</span><span class="token plain"> </span><span class="token punctuation" style=color:#393A34>[</span><span class="token plain">dbo</span><span class="token punctuation" style=color:#393A34>]</span><span class="token punctuation" style=color:#393A34>.</span><span class="token punctuation" style=color:#393A34>[</span><span class="token plain">Country</span><span class="token punctuation" style=color:#393A34>]</span><span class="token plain"> </span><span class="token punctuation" style=color:#393A34>[</span><span class="token plain">Country1</span><span class="token punctuation" style=color:#393A34>]</span><span class="token plain"> </span><span class="token keyword" style=color:#00009f>ON</span><span class="token plain"> </span><span class="token punctuation" style=color:#393A34>(</span><span class="token punctuation" style=color:#393A34>[</span><span class="token plain">Country1</span><span class="token punctuation" style=color:#393A34>]</span><span class="token punctuation" style=color:#393A34>.</span><span class="token punctuation" style=color:#393A34>[</span><span class="token plain">Id</span><span class="token punctuation" style=color:#393A34>]</span><span class="token plain"> </span><span class="token operator" style=color:#393A34>=</span><span class="token plain"> </span><span class="token punctuation" style=color:#393A34>[</span><span class="token plain">City</span><span class="token punctuation" style=color:#393A34>]</span><span class="token punctuation" style=color:#393A34>.</span><span class="token punctuation" style=color:#393A34>[</span><span class="token plain">CountryId</span><span class="token punctuation" style=color:#393A34>]</span><span class="token punctuation" style=color:#393A34>)</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token keyword" style=color:#00009f>LEFT</span><span class="token plain"> </span><span class="token keyword" style=color:#00009f>OUTER</span><span class="token plain"> </span><span class="token keyword" style=color:#00009f>JOIN</span><span class="token plain"> </span><span class="token punctuation" style=color:#393A34>[</span><span class="token plain">dbo</span><span class="token punctuation" style=color:#393A34>]</span><span class="token punctuation" style=color:#393A34>.</span><span class="token punctuation" style=color:#393A34>[</span><span class="token plain">Country</span><span class="token punctuation" style=color:#393A34>]</span><span class="token plain"> </span><span class="token punctuation" style=color:#393A34>[</span><span class="token plain">Country2</span><span class="token punctuation" style=color:#393A34>]</span><span class="token plain"> </span><span class="token keyword" style=color:#00009f>ON</span><span class="token plain"> </span><span class="token punctuation" style=color:#393A34>(</span><span class="token punctuation" style=color:#393A34>[</span><span class="token plain">Country2</span><span class="token punctuation" style=color:#393A34>]</span><span class="token punctuation" style=color:#393A34>.</span><span class="token punctuation" style=color:#393A34>[</span><span class="token plain">Id</span><span class="token punctuation" style=color:#393A34>]</span><span class="token plain"> </span><span class="token operator" style=color:#393A34>=</span><span class="token plain"> </span><span class="token punctuation" style=color:#393A34>[</span><span class="token plain">City</span><span class="token punctuation" style=color:#393A34>]</span><span class="token punctuation" style=color:#393A34>.</span><span class="token punctuation" style=color:#393A34>[</span><span class="token plain">CountryId</span><span class="token punctuation" style=color:#393A34>]</span><span class="token punctuation" style=color:#393A34>)</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token keyword" style=color:#00009f>RIGHT</span><span class="token plain"> </span><span class="token keyword" style=color:#00009f>OUTER</span><span class="token plain"> </span><span class="token keyword" style=color:#00009f>JOIN</span><span class="token plain"> </span><span class="token punctuation" style=color:#393A34>[</span><span class="token plain">dbo</span><span class="token punctuation" style=color:#393A34>]</span><span class="token punctuation" style=color:#393A34>.</span><span class="token punctuation" style=color:#393A34>[</span><span class="token plain">Contact</span><span class="token punctuation" style=color:#393A34>]</span><span class="token plain"> </span><span class="token punctuation" style=color:#393A34>[</span><span class="token plain">CreatedBy</span><span class="token punctuation" style=color:#393A34>]</span><span class="token plain"> </span><span class="token keyword" style=color:#00009f>ON</span><span class="token plain"> </span><span class="token punctuation" style=color:#393A34>(</span><span class="token punctuation" style=color:#393A34>[</span><span class="token plain">CreatedBy</span><span class="token punctuation" style=color:#393A34>]</span><span class="token punctuation" style=color:#393A34>.</span><span class="token punctuation" style=color:#393A34>[</span><span class="token plain">Id</span><span class="token punctuation" style=color:#393A34>]</span><span class="token plain"> </span><span class="token operator" style=color:#393A34>=</span><span class="token plain"> </span><span class="token punctuation" style=color:#393A34>[</span><span class="token plain">Country2</span><span class="token punctuation" style=color:#393A34>]</span><span class="token punctuation" style=color:#393A34>.</span><span class="token punctuation" style=color:#393A34>[</span><span class="token plain">CreatedById</span><span class="token punctuation" style=color:#393A34>]</span><span class="token punctuation" style=color:#393A34>)</span><br></span></code></pre><div class=buttonGroup_6DOT><button type=button aria-label="Copy code to clipboard" title=Copy class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<p>If the query contains the root schema and joinable schemas that use record permissions, you will be able to apply the access permissions of the current user. The <code>Terrasoft.Core.DB.QueryJoinRightLevel</code> enumeration lists the ways to apply the record access permissions to the joinable schemas.</p>
<p>The <strong>ways to apply the access permissions</strong> to the joinable schema queries are as follows:</p>
<ul>
<li>Apply always.</li>
<li>Apply only if the joinable schema query uses columns other than the primary column and primary display column. Usually, these are <code>[Id]</code> and <code>[Name]</code> columns.</li>
<li>Do not apply.</li>
</ul>
<p>The <code>JoinRightState</code> query property determines the order to apply the access permissions. The "Joined objects administering" (<code>QueryJoinRightLevel</code> code) system setting determines the default value of the property. If the setting is empty, Creatio will apply the access permissions if the joinable schema query uses columns other than the primary column and the primary display column.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id=title-1263-6>Manage the query filters<a href=#title-1263-6 class=hash-link aria-label="Direct link to Manage the query filters" title="Direct link to Manage the query filters">​</a></h3>
<p><strong>Filter</strong> is sets of conditions applied when displaying the query data. In SQL terms, a filter is a separate predicate (condition) of the <code>WHERE</code> operator.</p>
<div class="language-cs codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockTitle_P25_>Filter structure</div><div class=codeBlockContent_m3Ux><pre tabindex=0 class="prism-code language-cs codeBlock_qGQc thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_p187><span class=token-line style=color:#393A34><span class="token plain">Filter </span><span class="token operator" style=color:#393A34>=</span><span class="token plain"> </span><span class="token punctuation" style=color:#393A34>{</span><span class="token punctuation" style=color:#393A34>[</span><span class="token attribute class-name">AggregationType</span><span class="token punctuation" style=color:#393A34>]</span><span class="token plain"> </span><span class="token punctuation" style=color:#393A34>{</span><span class="token operator" style=color:#393A34>&lt;</span><span class="token plain">LeftExpression</span><span class="token operator" style=color:#393A34>></span><span class="token plain"> </span><span class="token operator" style=color:#393A34>|</span><span class="token plain"> </span><span class="token operator" style=color:#393A34>&lt;</span><span class="token plain">LeftExpressionColumnPath</span><span class="token operator" style=color:#393A34>></span><span class="token punctuation" style=color:#393A34>}</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token operator" style=color:#393A34>&lt;</span><span class="token plain">ComparisonType</span><span class="token operator" style=color:#393A34>></span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token punctuation" style=color:#393A34>{</span><span class="token punctuation" style=color:#393A34>{</span><span class="token operator" style=color:#393A34>&lt;</span><span class="token plain">RightExpression</span><span class="token operator" style=color:#393A34>></span><span class="token plain"> </span><span class="token operator" style=color:#393A34>|</span><span class="token plain"> </span><span class="token punctuation" style=color:#393A34>{</span><span class="token operator" style=color:#393A34>&lt;</span><span class="token plain">RightExpressionColumnPath</span><span class="token operator" style=color:#393A34>></span><span class="token punctuation" style=color:#393A34>,</span><span class="token range operator" style=color:#393A34>..</span><span class="token punctuation" style=color:#393A34>.</span><span class="token punctuation" style=color:#393A34>}</span><span class="token punctuation" style=color:#393A34>}</span><span class="token plain"> </span><span class="token operator" style=color:#393A34>|</span><span class="token plain"> </span><span class="token punctuation" style=color:#393A34>{</span><span class="token operator" style=color:#393A34>&lt;</span><span class="token plain">Macros</span><span class="token operator" style=color:#393A34>></span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"> </span><span class="token punctuation" style=color:#393A34>[</span><span class="token attribute class-name">MacrosValue</span><span class="token punctuation" style=color:#393A34>]</span><span class="token punctuation" style=color:#393A34>}</span><span class="token punctuation" style=color:#393A34>}</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token punctuation" style=color:#393A34>}</span><br></span></code></pre><div class=buttonGroup_6DOT><button type=button aria-label="Copy code to clipboard" title=Copy class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<p>To create a simple filter in <code>EntitySchemaQuery</code>, use the <code>CreateFilter()</code> method that returns the instance of the <code>EntitySchemaQueryFilter</code> type. <code>EntitySchemaQuery</code> implements a series of overloads for this method. This lets you create filters with different incoming parameters. <code>EntitySchemaQuery</code> implements methods that create special kinds of filters.</p>
<p>The <code>EntitySchemaQuery</code> instance contains the <code>Filters</code> property that represents the filter collection of the query (the <code>EntitySchemaQueryFilterCollection</code> class instance). The <code>EntitySchemaQueryFilterCollection</code> class instance is a typed collection of the <code>IEntitySchemaQueryFilterItem</code> elements.</p>
<p><strong>Follow this procedure to add a filter to the query</strong>:</p>
<ul>
<li>Create a filter instance for the query (<code>CreateFilter()</code> methods, methods that create special kinds of filters).</li>
<li>Add the filter instance to the query filter collection (the <code>Add()</code> collection method).</li>
</ul>
<p>By default, Creatio uses the logical <code>AND</code> operation to combine the filters added to the <code>Filters</code> collection. To implement the logical <code>OR</code> operation, use the <code>LogicalOperation</code> property of the <code>Filters</code> collection. This property takes the values of the <code>LogicalOperationStrict</code> enumeration and lets you specify the logical operation to combine the filters.</p>
<p>You can manage the filters that build the resulting dataset in the <code>EntitySchemaQuery</code> queries. Each element of the <code>Filters</code> collection includes the <code>IsEnabled</code> property that determines whether the element takes part in building the resulting query (<code>true</code>/<code>false</code>). Creatio defines the similar <code>IsEnabled</code> property for the <code>Filters</code> collection. If you set this property to <code>false</code>, the query filtering will be disabled, yet the query filters collection will remain unchanged. Thus, you can create a query filters collection and use various combinations without changing the collection itself.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id=title-1263-7>Manage the database entity<a href=#title-1263-7 class=hash-link aria-label="Direct link to Manage the database entity" title="Direct link to Manage the database entity">​</a></h2>
<p><code>Terrasoft.Core.Entities.Entity</code> is a class that implements the database entity management.</p>
<p>The <strong>purpose</strong> of the <code>Terrasoft.Core.Entities.Entity</code> class is to access the object that represents a database table record. You can also use the class for CRUD operations on the corresponding records.</p>
<hr>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id=see-also>See also<a href=#see-also class=hash-link aria-label="Direct link to See also" title="Direct link to See also">​</a></h2>
<p><a href="https://academy.creatio.com/documents?ver=8.2&id=15233" target=_blank rel="noopener noreferrer">Access data directly</a></p>
<p><a href="https://academy.creatio.com/documents?ver=8.2&id=15268" target=_blank rel="noopener noreferrer">Data storage and cache</a></div></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href=/docs/8.x/dev/development-on-creatio-platform/8.2/category/orm><div class=pagination-nav__sublabel>Previous</div><div class=pagination-nav__label>ORM</div></a><a class="pagination-nav__link pagination-nav__link--next" href=/docs/8.x/dev/development-on-creatio-platform/8.2/orm-examples><div class=pagination-nav__sublabel>Next</div><div class=pagination-nav__label>Examples</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href=#title-1263-1 class="table-of-contents__link toc-highlight">Configure a column path relative to the root schema</a><ul><li><a href=#title-1263-2 class="table-of-contents__link toc-highlight">Specify the column path using the direct connections</a><li><a href=#title-1263-3 class="table-of-contents__link toc-highlight">Specify the column path using the reverse connections</a></ul><li><a href=#title-1263-4 class="table-of-contents__link toc-highlight">Retrieve data from the database</a><ul><li><a href=#title-1263-5 class="table-of-contents__link toc-highlight">Manage joined tables</a><li><a href=#title-1263-6 class="table-of-contents__link toc-highlight">Manage the query filters</a></ul><li><a href=#title-1263-7 class="table-of-contents__link toc-highlight">Manage the database entity</a><li><a href=#see-also class="table-of-contents__link toc-highlight">See also</a></ul></div></div></div></div></main></div></div></div></div><footer class=footer><div class=footer__top><div class="container container-fluid"><div class=footer__cont><div class=footer__logo><img src=/docs/8.x/dev/img/accelerate.svg alt="" class="footer__logo themedComponent_mlkZ themedComponent--light_NVdE" width=271.4 height=38><img src=/docs/8.x/dev/img/accelerate.svg alt="" class="footer__logo themedComponent_mlkZ themedComponent--dark_xIcU" width=271.4 height=38></div><div class="row footer__links"><div class="col footer__col"><ul class="footer__items clean-list"><li class=footer__item><a href=https://www.facebook.com/CreatioCompany target=_blank rel="noopener noreferrer" class=footer__link-item>Facebook<svg width=13.5 height=13.5 aria-hidden=true viewBox="0 0 24 24" class=iconExternalLink_nPIU><path fill=currentColor d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"/></svg></a><li class=footer__item><a href=https://www.linkedin.com/company/creatioglobal target=_blank rel="noopener noreferrer" class=footer__link-item>LinkedIn<svg width=13.5 height=13.5 aria-hidden=true viewBox="0 0 24 24" class=iconExternalLink_nPIU><path fill=currentColor d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"/></svg></a><li class=footer__item><a href=https://www.youtube.com/c/creatio target=_blank rel="noopener noreferrer" class=footer__link-item>YouTube<svg width=13.5 height=13.5 aria-hidden=true viewBox="0 0 24 24" class=iconExternalLink_nPIU><path fill=currentColor d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"/></svg></a><li class=footer__item><a href=https://www.twitter.com/Creatio_Global target=_blank rel="noopener noreferrer" class=footer__link-item>Twitter<svg width=13.5 height=13.5 aria-hidden=true viewBox="0 0 24 24" class=iconExternalLink_nPIU><path fill=currentColor d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"/></svg></a><li class=footer__item><a href=https://www.owler.com/company/Creatio target=_blank rel="noopener noreferrer" class=footer__link-item>Owler<svg width=13.5 height=13.5 aria-hidden=true viewBox="0 0 24 24" class=iconExternalLink_nPIU><path fill=currentColor d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"/></svg></a></ul></div><div class="col footer__col"><div class=footer__title>Connect with us</div><ul class="footer__items clean-list"><li class=footer__item><a href="tel:+1 617 765 7997" target=_blank rel="noopener noreferrer" class=footer__link-item>US: +1 617 765 7997</a><li class=footer__item><a href="tel:+44 20 3384 0040" target=_blank rel="noopener noreferrer" class=footer__link-item>UK: +44 20 3384 0040</a><li class=footer__item><a href="tel:+61 261 452 888" target=_blank rel="noopener noreferrer" class=footer__link-item>AU: +61 261 452 888</a></ul></div><div class="col footer__col"><div class=footer__title> </div><ul class="footer__items clean-list"><li class=footer__item><a href=mailto:info@creatio.com target=_blank rel="noopener noreferrer" class=footer__link-item>info@creatio.com</a><li class=footer__item><a href=mailto:info@creatio.com target=_blank rel="noopener noreferrer" class=footer__link-item>support@creatio.com</a></ul></div></div></div></div></div><div class=footer__bottom><div class="container container-fluid"><div class=footer__copyright>© 2025 Creatio. All rights reserved.  |  <a href=https://www.creatio.com/privacy-policy target=_blank>Privacy Policy</a></div></div></div></footer></div>